#!/bin/nu
let wallpapers_path = "~/wallpapers/low-poly"
swaymsg -t get_outputs | 
    rg name | 
    str trim -a |
    split row "," | 
    split column ":" | 
    get column2 | 
    str trim | str trim -c '"' |
    each {|output|
        swaymsg $"output ($output) bg `find ($wallpapers_path) -type f | shuf -n 1` fill"
    }
